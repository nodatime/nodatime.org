

<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<title>Coding conventions</title>
  
	<!-- foundation default -->
  	<link rel="stylesheet" href="../css/foundation.css" />

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="../css/syntax.css">

    <!-- Foundicons -->
    <link rel="stylesheet" href="../css/general_enclosed_foundicons.css">

    <!-- Prettify -->
    <script src="../js/prettify/run_prettify.js"></script>

	<script src="../js/vendor/custom.modernizr.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/mobile.css">
</head>
<body>

	<div class="fixed">
		<nav class="top-bar">
			<ul class="title-area">
				<li class="name"><h1><a href="../">Noda Time</a></h1></li>
				<!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    			<li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
			</ul>

			<section class="top-bar-section">
				<!-- Right Nav Section -->
			    <ul class="right">
                  <!-- Disable the API link for the moment...
			      <li class="divider hide-for-small"></li>
			      <li><a href="../api" >API</a></li>
                  -->
			      <li class="divider hide-for-small"></li>
			      <li class="has-dropdown">
			      	<a href="#">API</a>
			      	<ul class="dropdown">
			      		<li><label>Versions</label></li>
			      		<li><a href="../1.0.x/api">1.0.x</a></li>
			      		<li><a href="../1.1.x/api">1.1.x</a></li>
			      		<li class="divider hide-for-small"></li>
			      		<li><a href="../unstable/api">Unstable</a></li>
			      	</ul>
			      </li>
			      <li class="divider"></li>
			      <li>
                                <a href="../developer" class="active">Developer Guide</a>
			      </li>
			      <li class="divider"></li>
			      <li class="has-dropdown">
			      	<a href="#" >User Guide</a>
			      	<ul class="dropdown">
			      		<li><label>Versions</label></li>
			      		<li><a href="../1.0.x/userguide">1.0.x</a></li>
			      		<li><a href="../1.1.x/userguide">1.1.x</a></li>
			      		<li class="divider hide-for-small"></li>
			      		<li><a href="../unstable/userguide">Unstable</a></li>
			      	</ul>
			      </li>
			      <li class="divider"></li>
			      <li><a href="../#info">More Info</a></li>
			      <li class="divider show-for-small"></li>
			      <li class="has-form hide-for-small">
			        <a class="button" href="../#install">Install</a>
			      </li>
			    </ul>
			</section>

		</nav>
	</div>


	<section class="body">
	


<div class="row">
	<div class="large-9 columns">
		<h1>Coding conventions</h1>
		<h2>Use of C# and .NET features</h2>

<p>Noda Time targets .NET 3.5, and the code only uses features available in C# 3. While we normally build against a C# 4 or C# 5 compiler, most later features aren&#39;t useful:</p>

<ul>
<li>Dynamic typing requires .NET 4</li>
<li>Generic variance relies on the appropriate attributes being applied to the types in question, and the most useful types (e.g. <code>IEnumerable&lt;T&gt;</code>) don&#39;t have those attributes in .NET 3.5</li>
<li>Async methods require .NET 4.5, or .NET 4 with the async targeting pack</li>
<li>The iteration variable capture rules for <code>foreach</code> would require <em>all</em> developers to use C# 5 compilers. <strong>Please</strong> do not rely on this.</li>
<li>Optional parameters wouldn&#39;t be useful to C# 3 users, so our API design assumes they&#39;re <em>not</em> available</li>
<li>Caller member info attributes require .NET 4.5.</li>
</ul>

<p>Additionally, we&#39;re trying not to use framework features we don&#39;t need to gratuitously, in case we ever want to backport to .NET 2.0. That&#39;s unlikely given that it would mean
dropping <code>TimeZoneInfo</code> support, but it&#39;s always a possibility. Additionally, we&#39;re very likely to want to create a Portable Class Library at some point, so where possible, stick
to core features which won&#39;t make this harder than it needs to be. (Don&#39;t worry too much though - don&#39;t feel you need to look up every member.)</p>

<h2>PCL support</h2>

<p>See the <a href="../userguide/installation.html">user guide</a> for which versions of the PCL are currently
supported. Supporting Silverlight restricts us more than the other targets; in particular the
<code>System.IO.Compression</code> namespace is entirely absent from Silverlight, whereas it&#39;s present
in the other PCL targets we&#39;re supporting.</p>

<p>The PCL build is a separate project configuration, hand-crafted into the existing project files. These configurations
define the <code>PCL</code> conditional compilation symbol, which is used for areas where the code needs to differ between builds.</p>

<h2>Code Layout</h2>

<ul>
<li>Use the Visual Studio <em>default</em> settings in Tools | Options | Text Editor |
C# | Formatting.</li>
<li>Use spaces not tabs
(<a href="http://groups.google.com/group/noda-time/msg/54e7262a08d1ce38">discussion</a>).</li>
</ul>

<h2>File Layout</h2>

<ul>
<li>Place using statements at the top of the file (not in the namespace).</li>
<li> A single namespace in any one file.</li>
<li><em>Prefer</em> a single type in a file.</li>
</ul>

<h2>Example</h2>

<div class="example"><pre class="prettyprint code">using System;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            if (args.Length &gt; 1)
            {
                Console.WriteLine(&quot;Hello &quot; + args[0]);
            }
            else
            {
                Console.WriteLine(&quot;Hello world!&quot;);
            }
        }
    }
}
</pre></div>

<h2>Working With Multiple C# Formatting Configurations</h2>

<p>Using Tools | Import and Export Settings the C# formatting settings can be selectively saved and then reloading. All the C# formatting options fall under All Options | Options | Text Editor | C# Editor. (The &quot;C#&quot; option holds the non-formatting settings.)</p>

<h2>Naming of tests</h2>

<p>Follow a <code>Method_State_Result</code> pattern:</p>

<ul>
<li><code>Method</code> is the name of the method being tested, possibly with some more information for overload disambiguation</li>
<li><code>State</code> describes the scenario that is being tested</li>
<li><code>Result</code> describes what is the expected behavior</li>
</ul>

<p>When any of the last two is really redundant, it can be omitted, like when the
<code>State</code> would be <code>ValidValues</code> or similar, or the <code>Result</code> would be <code>ItWorks</code>.</p>

	</div>

	<div class="large-3 columns">
		<div class="section-container accordian">
			<section>
				<p class="title" data-section-title>Guide</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../developer/tzdb-file-format.html" >Time zone database file format</a></li>
						
							<li><a href="../developer/release-process.html" >Release process</a></li>
						
							<li><a href="../developer/building.html" >Building and testing</a></li>
						
							<li><a href="../developer/coding-conventions.html" class="active">Coding conventions</a></li>
						
					</ul>
				</div>
			</section>
		</div>
	</div>
</div>

	</section>

	<footer>
		<div class="row">
			<div class="small-6 columns">
                                <span>The latest version is 1.1.0, released April 6th 2013</span>
			</div>
			<div class="small-6 columns copy">
                                &copy; <a href="http://noda-time.googlecode.com/hg/AUTHORS.txt">The Noda Time Authors</a>,
                                <span class="design">Web Design by <a href="http://nathanpalmer.com">Nathan Palmer</a></span>
			</div>
		</div>
	</footer>
	
	<script>
	document.write('<script src=' +
	('__proto__' in {} ? '../js/vendor/zepto' : '../js/vendor/jquery') +
	'.js><\/script>')
	</script>
  
  	<script src="../js/foundation.min.js"></script>
  	

  <!--
  <script src="js/foundation/foundation.js"></script>  
  <script src="js/foundation/foundation.alerts.js"></script>
  <script src="js/foundation/foundation.clearing.js"></script>  
  <script src="js/foundation/foundation.cookie.js"></script>
  <script src="js/foundation/foundation.dropdown.js"></script>
  <script src="js/foundation/foundation.forms.js"></script>
  <script src="js/foundation/foundation.joyride.js"></script>
  <script src="js/foundation/foundation.magellan.js"></script>
  <script src="js/foundation/foundation.orbit.js"></script>
  <script src="js/foundation/foundation.placeholder.js"></script>
  <script src="js/foundation/foundation.reveal.js"></script>
  <script src="js/foundation/foundation.section.js"></script>
  <script src="js/foundation/foundation.tooltips.js"></script>
  <script src="js/foundation/foundation.topbar.js"></script>
  <script src="js/foundation/foundation.interchange.js"></script>
  -->
  
  <script>
    $(document).foundation();
  </script>

  <!-- Nuget Button -->
  <script type="text/javascript">
  (function () {
      var nb = document.createElement('script'); nb.type = 'text/javascript'; nb.async = true;
      nb.src = 'http://s.prabir.me/nuget-button/0.2.1/nuget-button.min.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(nb, s);
  })();
  </script>
</body>
</html>
