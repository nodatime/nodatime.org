

<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<title>Unit testing with Noda Time</title>
  
	<!-- foundation default -->
  	<link rel="stylesheet" href="../../css/foundation.css" />

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="../../css/syntax.css">

    <!-- Foundicons -->
    <link rel="stylesheet" href="../../css/general_enclosed_foundicons.css">

    <!-- Prettify -->
    <script src="../../js/prettify/run_prettify.js"></script>

	<script src="../../js/vendor/custom.modernizr.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/mobile.css">
</head>
<body>

	<div class="fixed">
		<nav class="top-bar">
			<ul class="title-area">
				<li class="name"><h1><a href="../../">Noda Time</a></h1></li>
				<!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    			<li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
			</ul>

			<section class="top-bar-section">
				<!-- Right Nav Section -->
			    <ul class="right">
			      <li class="divider"></li>
			      <li class="has-dropdown">
			      	<a href="#" class="active">User Guide</a>
			      	<ul class="dropdown">
			      		<li><label>Versions</label></li>
			      		<li><a href="../../1.0.x/userguide">1.0.x</a></li>
			      		<li><a href="../../1.1.x/userguide">1.1.x</a></li>
			      		<li class="divider hide-for-small"></li>
			      		<li><a href="../../unstable/userguide">Unstable</a></li>
			      	</ul>
			      </li>
                  <!-- Disable the API link for the moment...
			      <li class="divider hide-for-small"></li>
			      <li><a href="../../api" >API</a></li>
                  -->
			      <li class="divider hide-for-small"></li>
			      <li class="has-dropdown">
			      	<a href="#">API</a>
			      	<ul class="dropdown">
			      		<li><label>Versions</label></li>
			      		<li><a href="../../1.0.x/api">1.0.x</a></li>
			      		<li><a href="../../1.1.x/api">1.1.x</a></li>
			      		<li class="divider hide-for-small"></li>
			      		<li><a href="../../unstable/api">Unstable</a></li>
			      	</ul>
			      </li>
			      <li class="divider"></li>
			      <li>
                                <a href="../../developer" >Developer Guide</a>
			      </li>
			      <li class="divider"></li>
			      <li><a href="../../#info">More Info</a></li>
			      <li class="divider show-for-small"></li>
			      <li class="has-form hide-for-small">
			        <a class="button" href="../../#install">Install</a>
			      </li>
			    </ul>
			</section>

		</nav>
	</div>


	<section class="body">
	



<div class="row">
	<div class="large-9 columns">
		<h1>Unit testing with Noda Time</h1>
		<p>This page is not about how Noda Time itself is tested - it&#39;s about how you to test code
which <em>uses</em> Noda Time.</p>

<h2>NodaTime.Testing</h2>

<p>Firstly, get hold of the <a href="http://nuget.org/packages/NodaTime.Testing">NodaTime.Testing</a> assembly. It&#39;s currently fairly
small, but it will no doubt grow - and it will make your life much easier. The purpose of the assembly is to provide
easy-to-use test doubles which can be used instead of the real implementations.</p>

<h2>Dependencies</h2>

<p>While you <em>can</em> use Noda Time without dependency injection, it will make your code harder to test. Noda Time has
no particular support for any specific dependency injection framework, but should be easy to configure with any
reasonably-powerful implementation. (If it&#39;s not, please file a bug report.)</p>

<p>The most obvious dependency is a clock - an implementation of <a href="../api/html/T_NodaTime_IClock.htm"><code>NodaTime.IClock</code></a>,
which simply provides &quot;the current date and time&quot; (as an <code>Instant</code>, given that the concept of &quot;now&quot; isn&#39;t
inherently bound to any time zone or calendar). The <a href="../api/html/T_NodaTime_Testing_FakeClock.htm"><code>FakeClock</code></a> can
be set to any given instant, advanced manually, or set to advance a given amount each time it&#39;s accessed. The production
environment should normally inject the singleton <a href="../api/html/T_NodaTime_SystemClock.htm"><code>SystemClock</code></a> instance which simply
uses <code>DateTime.UtcNow</code> behind the scenes.</p>

<p>For code which is sensitive to time zone fetching, an <a href="../api/html/T_NodaTime_IDateTimeZoneProvider.htm"><code>IDateTimeZoneProvider</code></a> can
be injected. There are currently no test doubles for this interface - please contact the mailing list with requirements
if to give us feedback on exactly what you&#39;d like provided here. The production environment should usually be
configured with one of the providers in <a href="../api/html/T_NodaTime_DateTimeZoneProviders.htm"><code>DateTimeZoneProviders</code></a>.</p>

<p>For time zones themselves, a fake implementation representing a time zone with a single transition between different offsets
is available as <a href="../api/html/T_NodaTime_Testing_TimeZones_SingleTransitionDateTimeZone.htm"><code>SingleTransitionDateTimeZone</code></a>. Creating
a time zone with no transitions at all is simple via <code>DateTimeZone.ForOffset</code>.</p>

		<ul class="pagination">
		
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			<li class="current hide-for-small"><a href>Unit testing with Noda Time</a></li>
			
			
		
			
			<li><a href="../../1.0.x/userguide/threading.html"><strong>Next</strong>: Threading</a></li>
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
		
		</ul>
	</div>

	<div class="large-3 columns">
		<div class="section-container accordian">
			<section>
				<p class="title" data-section-title>Introduction</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../../1.0.x/userguide/rationale.html" >Why does Noda Time exist?</a></li>
						
							<li><a href="../../1.0.x/userguide/installation.html" >Installation</a></li>
						
					</ul>
				</div>
			</section>
			<section>
				<p class="title" data-section-title>Core</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../../1.0.x/userguide/concepts.html" >Core concepts</a></li>
						
							<li><a href="../../1.0.x/userguide/type-choices.html" >Choosing (and converting) between types</a></li>
						
							<li><a href="../../1.0.x/userguide/core-types.html" >Core types quick reference</a></li>
						
							<li><a href="../../1.0.x/userguide/design.html" >Design philosophy and conventions</a></li>
						
					</ul>
				</div>
			</section>
			<section>
				<p class="title" data-section-title>Text</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../../1.0.x/userguide/text.html" >Text handling</a></li>
						
							<li><a href="../../1.0.x/userguide/offset-patterns.html" >Patterns for Offset values</a></li>
						
							<li><a href="../../1.0.x/userguide/instant-patterns.html" >Patterns for Instant values</a></li>
						
							<li><a href="../../1.0.x/userguide/localtime-patterns.html" >Patterns for LocalTime values</a></li>
						
							<li><a href="../../1.0.x/userguide/localdate-patterns.html" >Patterns for LocalDate values</a></li>
						
							<li><a href="../../1.0.x/userguide/localdatetime-patterns.html" >Patterns for LocalDateTime values</a></li>
						
							<li><a href="../../1.0.x/userguide/period-patterns.html" >Patterns for Period values</a></li>
						
					</ul>
				</div>
			</section>
			<section>
				<p class="title" data-section-title>Advanced</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../../1.0.x/userguide/arithmetic.html" >Date and time arithmetic</a></li>
						
							<li><a href="../../1.0.x/userguide/bcl-conversions.html" >BCL conversions</a></li>
						
							<li><a href="../../1.0.x/userguide/serialization.html" >Serialization</a></li>
						
							<li><a href="../../1.0.x/userguide/threading.html" >Threading</a></li>
						
					</ul>
				</div>
			</section>
			<section>
				<p class="title" data-section-title>Library</p>
				<div class="content" data-section-content>
					<ul class="side-nav">
						
							<li><a href="../../1.0.x/userguide/testing.html" class="active">Unit testing with Noda Time</a></li>
						
							<li><a href="../../1.0.x/userguide/tzdb.html" >Updating the time zone database</a></li>
						
							<li><a href="../../1.0.x/userguide/mono.html" >Mono support</a></li>
						
							<li><a href="../../1.0.x/userguide/limitations.html" >Limitations of Noda Time</a></li>
						
							<li><a href="../../1.0.x/userguide/versions.html" >Version history</a></li>
						
					</ul>
				</div>
			</section>
			<footer>Version  1.0.x  </footer>
		</div>
	</div>
</div>

	</section>

	<footer>
		<div class="row">
			<div class="small-6 columns">
                                <span>The latest version is 1.1.1, released August 30th 2013</span>
			</div>
			<div class="small-6 columns copy">
                                &copy; <a href="http://noda-time.googlecode.com/hg/AUTHORS.txt">The Noda Time Authors</a>,
                                <span class="design">Web Design by <a href="http://nathanpalmer.com">Nathan Palmer</a></span>
			</div>
		</div>
	</footer>
	
	<script>
	document.write('<script src=' +
	('__proto__' in {} ? '../../js/vendor/zepto' : '../../js/vendor/jquery') +
	'.js><\/script>')
	</script>
  
  	<script src="../../js/foundation.min.js"></script>
  	

  <!--
  <script src="js/foundation/foundation.js"></script>  
  <script src="js/foundation/foundation.alerts.js"></script>
  <script src="js/foundation/foundation.clearing.js"></script>  
  <script src="js/foundation/foundation.cookie.js"></script>
  <script src="js/foundation/foundation.dropdown.js"></script>
  <script src="js/foundation/foundation.forms.js"></script>
  <script src="js/foundation/foundation.joyride.js"></script>
  <script src="js/foundation/foundation.magellan.js"></script>
  <script src="js/foundation/foundation.orbit.js"></script>
  <script src="js/foundation/foundation.placeholder.js"></script>
  <script src="js/foundation/foundation.reveal.js"></script>
  <script src="js/foundation/foundation.section.js"></script>
  <script src="js/foundation/foundation.tooltips.js"></script>
  <script src="js/foundation/foundation.topbar.js"></script>
  <script src="js/foundation/foundation.interchange.js"></script>
  -->
  
  <script>
    $(document).foundation();
  </script>

  <!-- Nuget Button -->
  <script type="text/javascript">
  (function () {
      var nb = document.createElement('script'); nb.type = 'text/javascript'; nb.async = true;
      nb.src = 'http://s.prabir.me/nuget-button/0.2.1/nuget-button.min.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(nb, s);
  })();
  </script>
</body>
</html>
