@using System.Globalization
@inject IReleaseRepository releases
<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Noda Time | @ViewData["Title"]</title>

    <environment names="Development">
        <link rel="stylesheet" href="/css/normalize.css" />
        <link rel="stylesheet" href="/css/foundation.css" />
        <link rel="stylesheet" href="/css/general_enclosed_foundicons.css">
        <link rel="stylesheet" href="/css/site.css">
        <link rel="stylesheet" href="/css/highlightjs/vs.css">
        <link rel="stylesheet" href="/css/nuget-button.css">
    </environment>
    <environment names="Staging,Production">
        <link rel="stylesheet" href="/css/site.min.css" asp-append-version="true">
    </environment>
</head>
<body>
    <div class="fixed">
        <nav class="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name"><h1><a href="/">Noda Time</a></h1></li>
                <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
                <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
            </ul>

            <section class="top-bar-section">
                <!-- Right Nav Section -->
                <ul class="right">
                    <li class="divider"></li>
                    <li class="has-dropdown">
                        <a href="#">User Guide</a>
                        <ul class="dropdown">
                            <li><label>Current</label></li>
                            @foreach (var version in releases.CurrentMinorVersions)
                            {
                                <li><a href="/@version/userguide/">@version</a></li>
                            }
                            <li><a href="/unstable/userguide/">Development</a></li>
                            <li><label>Old</label></li>
                            @foreach (var version in releases.OldMinorVersions)
                            {
                                <li><a href="/@version/userguide/">@version</a></li>
                            }
                        </ul>
                    </li>
                    <li class="divider hide-for-small-only"></li>
                    <li class="has-dropdown">
                        <a href="#">API</a>
                        <ul class="dropdown">
                            <li><label>Current</label></li>
                            @foreach (var version in releases.CurrentMinorVersions)
                            {
                                <li><a href="/@version/api/">@version</a></li>
                            }
                            <li><a href="/unstable/api/">Development</a></li>
                            <li><a href="/serialization/api/">Serialization</a></li>
                            <li><label>Old</label></li>
                            @foreach (var version in releases.OldMinorVersions)
                            {
                                <li><a href="/@version/api/">@version</a></li>
                            }
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li><a href="/developer/">Developer Guide</a></li>
                    <li class="divider"></li>
                    <li><a href="/versions">Versions</a></li>
                    <li class="divider"></li>
                    <li><a href="/TimeZones">Time Zones</a></li>
                    <li class="divider"></li>
                    <li><a href="/benchmarks">Benchmarks</a></li>
                    <li class="divider"></li>
                    <li><a href="/#info">More Info</a></li>
                    <li class="divider show-for-small"></li>
                    <li class="has-form hide-for-small">
                        <a class="button" href="/#install">Install</a>
                    </li>
                </ul>
            </section>
        </nav>
    </div>


    <section class="body">
        @RenderBody()
    </section>

    <footer>
        <div class="row">
            @* TODO: We used to have the release date in here. We still know the URL to fetch that information, but we don't do so by default. *@
            <div class="small-6 columns">
            @{
                var latest = @releases.LatestRelease;
                <span>The latest version is @latest.Version.</span>
            }
            </div>
            <div class="small-6 columns copy">
                &copy; <a href="https://github.com/nodatime/nodatime/blob/main/AUTHORS.txt">The Noda Time Authors</a>,
                <span class="design">Web Design by Nathan Palmer</span>
            </div>
        </div>
    </footer>

    @RenderSection("scripts", required: false)

    <environment names="Development">
        <script src="/js/vendor/modernizr.js"></script>
        <script src="/js/vendor/jquery.js"></script>
        <script src="/js/foundation/foundation.js"></script>
        <script src="/js/foundation/foundation.topbar.js"></script>
        <script src="/js/highlight.pack.js"></script>
        <script src="/js/nuget-button.js"></script>
        <script src="/js/trydotnet.js"></script>
        <script src="/js/site.js"></script>
    </environment>
    <environment names="Staging,Production">
        <script src="/js/site.min.js" asp-append-version="true"></script>
    </environment>
</body>
</html>
